<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>numCounter</title>
</head>
<style type="text/css">
	div{
		width: 400px;
		height: 400px;
		margin: 50px auto;
	}
</style>
<body>
	<div>
		<p>对数字求和</p>
		<p id="string">We have 30 apples will be handed out to 10 students who need it, containing 5 foreigners .</p>
		<button>点我计算</button>
		<p id="countStr"></p>
	</div>
	<script type="text/javascript">
	let 
		string = document.getElementById('string'),
		countStr = document.getElementById('countStr'),
		button = document.getElementsByTagName('button')[0],
		input = string.innerHTML,
		num= [],
		str= ""
	for(i=0;i<input.length;i++){
		if (input[i]>=0 && input[i]<=9 && input[i] != " ") {
			str+=input[i]
			continue
		}
		else{
			if (str.length>0) {
				num.push(str)
				str = ""
			}
			
		}
	}
	var str1 = ""
	for (var i = 0; i < num.length; i++) {
		if(i == num.length-1)
			{
				str1+=num[i]
				break}
		str1+=num[i]+" + ";
	}
	str1+=" = " + num.reduce(function(a,b){
		return parseInt(a)+ parseInt(b)
	})
	button.onclick = function(){
		countStr.innerHTML = str1		
	}
	</script>
</body>
</html>